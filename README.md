# Data Base Project

Программа ищет вакансии с платформы HH.ru. Поиск вакансий производится среди компаний указанных в списке, хранящемся
в файле main.py. Данные о вакансиях получатся при помощи публичный API hh.ru по ключевому слову 'python'

## queries.sql 
В файле содержится код для создания таблиц, хранящих информацию о работодателе и вакансиях

## func.py
Данный файл содержит функции, необходимые для работы программы. 

- `get_employer_id()` - получает id работодателя, производя поиск по названию компании\
В случае если найдено несколько компаний, в названии которых содержится ключевое слово для поиска компании, функция ищет 
полное совпадение названия компании и ключевого слова

- `get_employer_info()` - получает информацию о работодателе, по его id


- `get_employer_vacancies()` - получает вакансии работодателя с ключевым словом 'python'


- `add_employer_to_table()` - подключается к базе данных и добавляет информацию о работодателе в соответствующую таблицу


- `add_vacancy_to_table()` - подключается к базе данных и добавляет информацию о вакансии в соответствующую таблицу


- `clear_tables()` - подключается к базе данных и очищает таблицу от полученных ранее данных

## DBM_class.py 

Файл содержит класс, использующий библиотеку psycopg2, для работы с базой данных

- `get_companies_and_vacancies_count()` - получает список всех компаний и количество вакансий у каждой компании.


- `get_all_vacancies()` - получает список всех вакансий с указанием названия компании, названия вакансии и 
зарплаты и ссылки на вакансию.


- `get_avg_salary()` - получает среднюю зарплату по вакансиям.


- `get_vacancies_with_higher_salary()` - получает список всех вакансий, у которых зарплата выше средней по всем вакансиям.


- `get_vacancies_with_keyword()` - получает список всех вакансий, в названии которых содержатся переданные в метод слова,
по умолчанию “python”. Изменить слово можно при инициализации класса

## main.py 

Содержит основную логику работы программы 

Здесь указаны компании, по которым будет производиться поиск вакансий, и производится вызов описанных функций
